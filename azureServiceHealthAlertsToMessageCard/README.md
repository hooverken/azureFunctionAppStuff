
**ASHWebhookToMessageCardFn.ps1** is PowerShell code For a function app which uses a webhook generated by an Azure Service Health alert using the [Common Alert Schema](https://docs.microsoft.com/en-us/azure/azure-monitor/platform/alerts-common-schema) as a trigger and turns the alert into a [MessageCard](https://docs.microsoft.com/en-us/outlook/actionable-messages/message-card-reference?msclkid=53505fbbc23911ec986eabb45e4d2ed0) which is posted to an outgoing Webhook.

This function was created with the target webhook as a [Microsoft Teams channel](https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook), but the MessageCard format is used by several Microsoft tools including Outlook.

See accompanying implementation file for a list of the steps to get this working in your environment.

Below is an example (using dummy data) of what the generated message card might look like.  

![Sample Image](https://github.com/hooverken/azureFunctionAppStuff/blob/main/azureServiceHealthAlertsToMessageCard/TestServiceHealthAlertCard.PNG?raw=true)
